# OpenWrt 家庭网络 VLAN

## openwrt 高效配置技巧
1. 保留一个网口用做管理网口，管理网口上的接口使用静态地址并开启DHCP，一般就是保留openwrt原始的192.168.1.1， 这样用这个网口管理即使其他网口配置错误后还可以用管理网口正常进入路由器管理界面
2. 配置 vlan 网关或者其他网关的时候建议开启DHCP并且下级路由器对接的时候使用dhcp client 协议， 如果配置正确下级路由就可以正常拿到dhcp分配的地址，反之就是配置有问题

## VLAN 规划
| VLAN ID | 网关          | 描述        |
| :-----: | :-----------: | :------------: |
| 101     | 192.168.101.1 | LAN(家庭网络)   |
| 102     | 192.168.102.1 | IOT(物联网设备) |
| 103     | 192.168.103.1 | GUEST(访客网络) |

## OpenWrt -> LUCI -> NetWork -> Interface 设置

1. 创建桥接设备
2. 设置VLAN ID

    Tagged: 当前的网口数据标记VLAN ID, 处理的数据都必须带有VLAN ID标记, 用于与其他 VLAN 交换机连接

    Untagged: 接收没有标记的数据, 用于连接电脑、手机等非VLAN交换机设备
 
    Is Primary VLAN：未标记的流量：当端口的某些流量没有 VLAN 标签时，这些流量会被归入主要 VLAN；默认 VLAN：在某些网络设备中，这是当设备接口未指定特定 VLAN 时所使用的默认 VLAN

